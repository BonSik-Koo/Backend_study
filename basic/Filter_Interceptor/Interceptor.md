__Interceptor__
=======================
![image](https://user-images.githubusercontent.com/96917871/158424196-d67438e7-0de6-45cf-b75a-f873f3803ef0.png)

- 스프링 인터셉터는 스프링 MVC가 제공하는 기술이다.
- 스프링 인터셉터는 디스패처 서블릿과 컨트롤러 사이에서 컨트롤러 호출 직전에 호출 된다. -> 서블릿 필터는 디스패츠 서블릿 호출 전
- 스프링 인터셉터에도 URL 패턴을 적용할 수 있는데, 서블릿 URL 패턴과는 다르고, 매우 정밀하게 설정할 수 있다.(포함할 URL, 제외할 URL등)
- 서블릿 필트와 마친가지로 "체인"의 기능도 가지고 있다.
- 서블릿 필터와 다르게 스프링 인터셉터는 컨트롤러 호출전(preHandle, 더 정확히는 핸들러 어댑터 호출전), 호출후(postHandel, 컨트롤러 호출후 ModelAndView를 디스패처 서블릿에 반환 후), 요청 완료 이후(afterCompletion, 뷰 템플릿 렌더링을 마친 후) 와 같이 단계적으로 잘 세분화 되어 있다.        
-> 서블릿 필터의 경우 단순히 request , response 만 제공했지만, 인터셉터는 어떤 컨트롤러(handler)가 호출되는지 호출 정보도 받을 수 있다. 그리고 어떤 modelAndView 가 반환되는지 응답 정보도 받을 수 있다.

__스프링 인터셉터 호출 흐름(정상적인 흐름, 예외 상황 흐름)__
=============================

__<정상적인 흐름>__
------------------------------
![image](https://user-images.githubusercontent.com/96917871/158425115-b92f0484-3b91-48f9-bb1c-6a7bd2b514f1.png)

- 스프링 인터셉터에는 3가지 기능(메소드) 있다. -> preHandle, postHandle, afterCompletion
- preHandle : 컨트롤러 호출 전에 호출된다. (더 정확히는 핸들러 어댑터 호출 전에 호출된다.)     
-> preHandle 의 응답값이 true 이면 다음으로 진행하고, false 이면 더는 진행하지 않는다. false 인 경우 나머지 인터셉터는 물론이고, 핸들러 어댑터도 호출되지 않는다. 그림에서 1번에서 끝이 나버린다.
- postHandle : 컨트롤러 호출 후에 호출된다. (더 정확히는 핸들러 어댑터 호출 후에 호출된다.)
- afterCompletion : 뷰가 렌더링 된 이후에 호출된다.

__<예외 상황 흐름>
----------------------------------------------
![image](https://user-images.githubusercontent.com/96917871/158425719-7d84a26b-86c8-4ba8-98cb-607b6b0a99eb.png)

- preHandle : 컨트롤러 호출 전에 호출된다. -> 예외 상황이 컨트롤러에서 발생하기 때문에 상관없이 호출
- postHandle : 컨트롤러에서 예외가 발생하면 postHandle 은 호출되지 않는다.!!!!!!
- afterCompletion : afterCompletion 은 항상 호출된다.      
-> 해당 메소드에서 예외(Exception)을 받는 파라미터가 있는데 컨트롤러에서 어떤 예외가 발생했는지 확인할 수 있다.      
-->예외 발생시 postHadle는 호출되지 않지만 "afterCompletion"은 항상 호출 되기 때문에 예외와 무관하게 공통 처리를 하려면 해당 메소드를 사용하면 된다.


__스프링 인터셉터 사용__
=================================









